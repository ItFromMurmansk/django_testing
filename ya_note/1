============================= test session starts =============================
platform win32 -- Python 3.9.13, pytest-7.1.3, pluggy-1.5.0 -- C:\dev\django_testing\venv\Scripts\python.exe
django: settings: yanote.settings (from ini)
rootdir: C:\dev\django_testing\ya_note, configfile: pytest.ini, testpaths: notes/tests/
plugins: django-4.5.2, lazy-fixture-0.6.3, subtests-0.9.0
collecting ... collected 12 items

notes/tests/test_content.py::TestContent::test_existing_form PASSED      [  8%]
notes/tests/test_content.py::TestContent::test_note_in_list PASSED       [ 16%]
notes/tests/test_content.py::TestContent::test_note_in_list_author_another PASSED [ 25%]
notes/tests/test_logic.py::TestLogic::test_anonymous_user_cant_create_note PASSED [ 33%]
notes/tests/test_logic.py::TestLogic::test_author_can_delete_note FAILED [ 41%]
notes/tests/test_logic.py::TestLogic::test_empty_slug PASSED             [ 50%]
notes/tests/test_logic.py::TestLogic::test_slug_unique PASSED            [ 58%]
notes/tests/test_logic.py::TestLogic::test_user_can_create_note PASSED   [ 66%]
notes/tests/test_routes.py::TestRoutes::test_availability_for_note_edit_and_delete PASSED [ 75%]
notes/tests/test_routes.py::TestRoutes::test_pages_availability_anonymous PASSED [ 83%]
notes/tests/test_routes.py::TestRoutes::test_pages_availability_authorized PASSED [ 91%]
notes/tests/test_routes.py::TestRoutes::test_redirect_for_anonymous_client PASSED [100%]

================================== FAILURES ===================================
____________________ TestLogic.test_author_can_delete_note ____________________

self = <notes.tests.test_logic.TestLogic testMethod=test_author_can_delete_note>

    def test_author_can_delete_note(self):
        url = reverse('notes:delete', args=(self.form_data['slug'],))
        self.auth_one.delete(url)
>       self.assertFalse(Note.objects.filter(pk=self.note.pk).exists())
E       AttributeError: 'TestLogic' object has no attribute 'note'

notes\tests\test_logic.py:83: AttributeError
------------------------------ Captured log call ------------------------------
WARNING  django.request:log.py:224 Not Found: /delete/Zametka/
=========================== short test summary info ===========================
FAILED notes/tests/test_logic.py::TestLogic::test_author_can_delete_note - At...
======================== 1 failed, 11 passed in 0.64s =========================
